{"id":"index.js","dependencies":[{"name":"/Users/ruoyu/workspace/course-projects/wheels/wheel-react/.babelrc","includedInParent":true,"mtime":1565850915995},{"name":"/Users/ruoyu/workspace/course-projects/wheels/wheel-react/package.json","includedInParent":true,"mtime":1565850729082}],"generated":{"js":"function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/** step 1 */\n\n/**\n * ## JSX与虚拟DOM\n * 引入\n * 演练地址： https://babeljs.io/repl\n * @babel/plugin-transform-react-jsx 文档： https://babeljs.io/docs/en/babel-plugin-transform-react-jsx\n * \n * 1. 初始化环境 \n *   yarn init -y\n *   yarn add parcel-bundler\n *   touch index.html index.js\n *   touch .bablerc\n * 2. 设置.babelrc\n *   {\n *     \"presets\": [\"env\"],\n *     \"plugins\": [\n *        [\"transform-react-jsx\", {\n *            \"pragma\": \"Jreact.createElement\"\n *        }]\n *      ]\n *   }\n *  3. 执行\n *    npx parcel index.html\n */\n\n/*\nfunction createElement(tag, attrs, ...children) {\n return {\n   tag, \n   attrs, \n   children\n }\n}\nconst Jreact = {\n createElement\n}\nlet element = <div className=\"wrap\">Hello <span className=\"name\">Jirengu</span></div>\nconsole.log(element)\n*/\n\n/** step 2 */\n\n/**\n * 渲染虚拟DOM\n */\n\n/*\nfunction createElement(tag, attrs, ...children) {\n  return {\n    tag, \n    attrs, \n    children\n  }\n}\n\nconst Jreact = {\n  createElement\n}\n\n\nfunction render(vnode, container) {\n  \n  let node\n  if(typeof vnode === 'string') {\n    node = document.createTextNode(vnode)\n  }\n\n  if(typeof vnode === 'object') {\n    node = document.createElement(vnode.tag)\n    setAttribute(node, vnode.attrs)\n    vnode.children.forEach(childVnode => render(childVnode, node))\n  }\n\n  container.appendChild(node)\n\n  \n}\n\nfunction setAttribute(node, attrs) {\n  if(!attrs) return\n\n  for(let key in attrs) {\n    if(key.startsWith('on')) {\n      node[key.toLocaleLowerCase()] = attrs[key]\n    } else if(key === 'style') {\n      Object.assign(node.style, attrs[key])\n    } else {\n      node[key] = attrs[key]\n    }\n  }\n}\n\nconst JreactDom = {\n  render\n}\n\n\nlet name = 'jirengu'\nlet showName = () => console.log(`name is: ${name}`)\nlet styleObject = {\n  color: \"red\",\n  fontSize: \"60px\"\n}\n\nlet jsx = (\n  <div id=\"wrap\" data-id=\"1\" onClick={ showName } style={ styleObject }>\n    Hello \n    <span className=\"name\">hello { name } <i></i></span>\n  </div>\n)\n\nJreactDom.render(jsx, document.querySelector('#app'))\n*/\n\n/**step 3 */\n\n/**\n * 做一个时钟\n */\nfunction createElement(tag, attrs) {\n  for (var _len = arguments.length, children = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    children[_key - 2] = arguments[_key];\n  }\n\n  return {\n    tag: tag,\n    attrs: attrs,\n    children: children\n  };\n}\n\nvar Jreact = {\n  createElement: createElement\n};\n\nfunction _render(vnode, container) {\n  var node;\n\n  if (typeof vnode === 'string') {\n    node = document.createTextNode(vnode);\n  }\n\n  if (_typeof(vnode) === 'object') {\n    node = document.createElement(vnode.tag);\n    setAttribute(node, vnode.attrs);\n    vnode.children.forEach(function (childVnode) {\n      return _render(childVnode, node);\n    });\n  }\n\n  container.appendChild(node);\n}\n\nfunction setAttribute(node, attrs) {\n  if (!attrs) return;\n\n  for (var key in attrs) {\n    if (key.startsWith('on')) {\n      node[key.toLocaleLowerCase()] = attrs[key];\n    } else if (key === 'style') {\n      Object.assign(node.style, attrs[key]);\n    } else {\n      node[key] = attrs[key];\n    }\n  }\n}\n\nvar JreactDom = {\n  render: function render(vnode, container) {\n    container.innerHTML = '';\n\n    _render(vnode, container);\n  }\n};\nvar timer = null;\nstart();\n\nfunction start() {\n  timer = setInterval(function () {\n    JreactDom.render(Jreact.createElement(\"div\", {\n      id: \"clock\"\n    }, Jreact.createElement(\"div\", {\n      className: \"time\"\n    }, new Date().toString()), Jreact.createElement(\"div\", null, Jreact.createElement(\"button\", {\n      onClick: start\n    }, \"start\"), Jreact.createElement(\"button\", {\n      onClick: pause\n    }, \"pause\"))), document.querySelector('#app'));\n  }, 1000);\n}\n\nfunction pause() {\n  clearInterval(timer);\n}","map":{"mappings":[{"generated":{"line":3,"column":0},"source":"index.js","original":{"line":1,"column":0}},{"generated":{"line":5,"column":0},"source":"index.js","original":{"line":2,"column":0}},{"generated":{"line":29,"column":0},"source":"index.js","original":{"line":26,"column":1}},{"generated":{"line":44,"column":0},"source":"index.js","original":{"line":46,"column":0}},{"generated":{"line":46,"column":0},"source":"index.js","original":{"line":47,"column":0}},{"generated":{"line":50,"column":0},"source":"index.js","original":{"line":51,"column":0}},{"generated":{"line":118,"column":0},"source":"index.js","original":{"line":121,"column":0}},{"generated":{"line":120,"column":0},"source":"index.js","original":{"line":122,"column":0}},{"generated":{"line":123,"column":0},"source":"index.js","original":{"line":126,"column":0}},{"name":"createElement","generated":{"line":123,"column":9},"source":"index.js","original":{"line":126,"column":9}},{"generated":{"line":123,"column":22},"source":"index.js","original":{"line":126,"column":0}},{"name":"tag","generated":{"line":123,"column":23},"source":"index.js","original":{"line":126,"column":23}},{"generated":{"line":123,"column":26},"source":"index.js","original":{"line":126,"column":0}},{"name":"attrs","generated":{"line":123,"column":28},"source":"index.js","original":{"line":126,"column":28}},{"generated":{"line":123,"column":33},"source":"index.js","original":{"line":126,"column":0}},{"generated":{"line":123,"column":35},"source":"index.js","original":{"line":126,"column":48}},{"generated":{"line":124,"column":0},"source":"index.js","original":{"line":126,"column":48}},{"name":"children","generated":{"line":124,"column":36},"source":"index.js","original":{"line":126,"column":38}},{"generated":{"line":124,"column":44},"source":"index.js","original":{"line":126,"column":48}},{"name":"children","generated":{"line":125,"column":0},"source":"index.js","original":{"line":126,"column":38}},{"name":"children","generated":{"line":125,"column":4},"source":"index.js","original":{"line":126,"column":38}},{"generated":{"line":125,"column":12},"source":"index.js","original":{"line":126,"column":48}},{"generated":{"line":126,"column":0},"source":"index.js","original":{"line":126,"column":48}},{"generated":{"line":128,"column":0},"source":"index.js","original":{"line":127,"column":2}},{"generated":{"line":128,"column":9},"source":"index.js","original":{"line":127,"column":9}},{"name":"tag","generated":{"line":129,"column":0},"source":"index.js","original":{"line":128,"column":4}},{"name":"tag","generated":{"line":129,"column":4},"source":"index.js","original":{"line":128,"column":4}},{"generated":{"line":129,"column":7},"source":"index.js","original":{"line":128,"column":7}},{"name":"tag","generated":{"line":129,"column":9},"source":"index.js","original":{"line":128,"column":4}},{"generated":{"line":129,"column":12},"source":"index.js","original":{"line":127,"column":9}},{"name":"attrs","generated":{"line":130,"column":0},"source":"index.js","original":{"line":129,"column":4}},{"name":"attrs","generated":{"line":130,"column":4},"source":"index.js","original":{"line":129,"column":4}},{"generated":{"line":130,"column":9},"source":"index.js","original":{"line":129,"column":9}},{"name":"attrs","generated":{"line":130,"column":11},"source":"index.js","original":{"line":129,"column":4}},{"generated":{"line":130,"column":16},"source":"index.js","original":{"line":127,"column":9}},{"name":"children","generated":{"line":131,"column":0},"source":"index.js","original":{"line":130,"column":4}},{"name":"children","generated":{"line":131,"column":4},"source":"index.js","original":{"line":130,"column":4}},{"generated":{"line":131,"column":12},"source":"index.js","original":{"line":130,"column":12}},{"name":"children","generated":{"line":131,"column":14},"source":"index.js","original":{"line":130,"column":4}},{"generated":{"line":132,"column":0},"source":"index.js","original":{"line":127,"column":9}},{"generated":{"line":132,"column":3},"source":"index.js","original":{"line":127,"column":2}},{"generated":{"line":133,"column":0},"source":"index.js","original":{"line":132,"column":1}},{"generated":{"line":135,"column":0},"source":"index.js","original":{"line":134,"column":0}},{"name":"Jreact","generated":{"line":135,"column":4},"source":"index.js","original":{"line":134,"column":6}},{"generated":{"line":135,"column":10},"source":"index.js","original":{"line":134,"column":12}},{"generated":{"line":135,"column":13},"source":"index.js","original":{"line":134,"column":15}},{"name":"createElement","generated":{"line":136,"column":0},"source":"index.js","original":{"line":135,"column":2}},{"name":"createElement","generated":{"line":136,"column":2},"source":"index.js","original":{"line":135,"column":2}},{"generated":{"line":136,"column":15},"source":"index.js","original":{"line":135,"column":15}},{"name":"createElement","generated":{"line":136,"column":17},"source":"index.js","original":{"line":135,"column":2}},{"generated":{"line":137,"column":0},"source":"index.js","original":{"line":134,"column":15}},{"generated":{"line":137,"column":1},"source":"index.js","original":{"line":134,"column":0}},{"generated":{"line":139,"column":0},"source":"index.js","original":{"line":139,"column":0}},{"name":"render","generated":{"line":139,"column":9},"source":"index.js","original":{"line":139,"column":9}},{"generated":{"line":139,"column":16},"source":"index.js","original":{"line":139,"column":0}},{"name":"vnode","generated":{"line":139,"column":17},"source":"index.js","original":{"line":139,"column":16}},{"generated":{"line":139,"column":22},"source":"index.js","original":{"line":139,"column":0}},{"name":"container","generated":{"line":139,"column":24},"source":"index.js","original":{"line":139,"column":23}},{"generated":{"line":139,"column":33},"source":"index.js","original":{"line":139,"column":0}},{"generated":{"line":139,"column":35},"source":"index.js","original":{"line":139,"column":34}},{"generated":{"line":140,"column":0},"source":"index.js","original":{"line":140,"column":2}},{"name":"node","generated":{"line":140,"column":6},"source":"index.js","original":{"line":140,"column":6}},{"generated":{"line":140,"column":10},"source":"index.js","original":{"line":140,"column":2}},{"generated":{"line":142,"column":0},"source":"index.js","original":{"line":141,"column":2}},{"generated":{"line":142,"column":6},"source":"index.js","original":{"line":141,"column":5}},{"name":"vnode","generated":{"line":142,"column":13},"source":"index.js","original":{"line":141,"column":12}},{"generated":{"line":142,"column":18},"source":"index.js","original":{"line":141,"column":5}},{"generated":{"line":142,"column":23},"source":"index.js","original":{"line":141,"column":22}},{"generated":{"line":142,"column":31},"source":"index.js","original":{"line":141,"column":2}},{"generated":{"line":142,"column":33},"source":"index.js","original":{"line":141,"column":32}},{"name":"node","generated":{"line":143,"column":0},"source":"index.js","original":{"line":142,"column":4}},{"name":"node","generated":{"line":143,"column":4},"source":"index.js","original":{"line":142,"column":4}},{"generated":{"line":143,"column":8},"source":"index.js","original":{"line":142,"column":8}},{"name":"document","generated":{"line":143,"column":11},"source":"index.js","original":{"line":142,"column":11}},{"generated":{"line":143,"column":19},"source":"index.js","original":{"line":142,"column":19}},{"name":"createTextNode","generated":{"line":143,"column":20},"source":"index.js","original":{"line":142,"column":20}},{"generated":{"line":143,"column":34},"source":"index.js","original":{"line":142,"column":11}},{"name":"vnode","generated":{"line":143,"column":35},"source":"index.js","original":{"line":142,"column":35}},{"generated":{"line":143,"column":40},"source":"index.js","original":{"line":142,"column":11}},{"generated":{"line":143,"column":41},"source":"index.js","original":{"line":142,"column":4}},{"generated":{"line":144,"column":0},"source":"index.js","original":{"line":143,"column":3}},{"generated":{"line":146,"column":0},"source":"index.js","original":{"line":145,"column":2}},{"generated":{"line":146,"column":6},"source":"index.js","original":{"line":145,"column":5}},{"name":"vnode","generated":{"line":146,"column":14},"source":"index.js","original":{"line":145,"column":12}},{"generated":{"line":146,"column":19},"source":"index.js","original":{"line":145,"column":5}},{"generated":{"line":146,"column":25},"source":"index.js","original":{"line":145,"column":22}},{"generated":{"line":146,"column":33},"source":"index.js","original":{"line":145,"column":2}},{"generated":{"line":146,"column":35},"source":"index.js","original":{"line":145,"column":32}},{"name":"node","generated":{"line":147,"column":0},"source":"index.js","original":{"line":146,"column":4}},{"name":"node","generated":{"line":147,"column":4},"source":"index.js","original":{"line":146,"column":4}},{"generated":{"line":147,"column":8},"source":"index.js","original":{"line":146,"column":8}},{"name":"document","generated":{"line":147,"column":11},"source":"index.js","original":{"line":146,"column":11}},{"generated":{"line":147,"column":19},"source":"index.js","original":{"line":146,"column":19}},{"name":"createElement","generated":{"line":147,"column":20},"source":"index.js","original":{"line":146,"column":20}},{"generated":{"line":147,"column":33},"source":"index.js","original":{"line":146,"column":11}},{"name":"vnode","generated":{"line":147,"column":34},"source":"index.js","original":{"line":146,"column":34}},{"generated":{"line":147,"column":39},"source":"index.js","original":{"line":146,"column":39}},{"name":"tag","generated":{"line":147,"column":40},"source":"index.js","original":{"line":146,"column":40}},{"generated":{"line":147,"column":43},"source":"index.js","original":{"line":146,"column":11}},{"generated":{"line":147,"column":44},"source":"index.js","original":{"line":146,"column":4}},{"name":"setAttribute","generated":{"line":148,"column":0},"source":"index.js","original":{"line":147,"column":4}},{"name":"setAttribute","generated":{"line":148,"column":4},"source":"index.js","original":{"line":147,"column":4}},{"generated":{"line":148,"column":16},"source":"index.js","original":{"line":147,"column":16}},{"name":"node","generated":{"line":148,"column":17},"source":"index.js","original":{"line":147,"column":17}},{"generated":{"line":148,"column":21},"source":"index.js","original":{"line":147,"column":16}},{"name":"vnode","generated":{"line":148,"column":23},"source":"index.js","original":{"line":147,"column":23}},{"generated":{"line":148,"column":28},"source":"index.js","original":{"line":147,"column":28}},{"name":"attrs","generated":{"line":148,"column":29},"source":"index.js","original":{"line":147,"column":29}},{"generated":{"line":148,"column":34},"source":"index.js","original":{"line":147,"column":16}},{"generated":{"line":148,"column":35},"source":"index.js","original":{"line":147,"column":4}},{"name":"vnode","generated":{"line":149,"column":0},"source":"index.js","original":{"line":148,"column":4}},{"name":"vnode","generated":{"line":149,"column":4},"source":"index.js","original":{"line":148,"column":4}},{"generated":{"line":149,"column":9},"source":"index.js","original":{"line":148,"column":9}},{"name":"children","generated":{"line":149,"column":10},"source":"index.js","original":{"line":148,"column":10}},{"generated":{"line":149,"column":18},"source":"index.js","original":{"line":148,"column":4}},{"name":"forEach","generated":{"line":149,"column":19},"source":"index.js","original":{"line":148,"column":19}},{"generated":{"line":149,"column":26},"source":"index.js","original":{"line":148,"column":4}},{"generated":{"line":149,"column":27},"source":"index.js","original":{"line":148,"column":27}},{"name":"childVnode","generated":{"line":149,"column":37},"source":"index.js","original":{"line":148,"column":27}},{"generated":{"line":149,"column":47},"source":"index.js","original":{"line":148,"column":37}},{"generated":{"line":150,"column":0},"source":"index.js","original":{"line":148,"column":37}},{"name":"render","generated":{"line":150,"column":13},"source":"index.js","original":{"line":148,"column":41}},{"generated":{"line":150,"column":20},"source":"index.js","original":{"line":148,"column":47}},{"name":"childVnode","generated":{"line":150,"column":21},"source":"index.js","original":{"line":148,"column":48}},{"generated":{"line":150,"column":31},"source":"index.js","original":{"line":148,"column":47}},{"name":"node","generated":{"line":150,"column":33},"source":"index.js","original":{"line":148,"column":60}},{"generated":{"line":150,"column":37},"source":"index.js","original":{"line":148,"column":47}},{"generated":{"line":150,"column":38},"source":"index.js","original":{"line":148,"column":37}},{"generated":{"line":151,"column":0},"source":"index.js","original":{"line":148,"column":37}},{"generated":{"line":151,"column":5},"source":"index.js","original":{"line":148,"column":4}},{"generated":{"line":152,"column":0},"source":"index.js","original":{"line":149,"column":3}},{"name":"container","generated":{"line":154,"column":0},"source":"index.js","original":{"line":151,"column":2}},{"name":"container","generated":{"line":154,"column":2},"source":"index.js","original":{"line":151,"column":2}},{"generated":{"line":154,"column":11},"source":"index.js","original":{"line":151,"column":11}},{"name":"appendChild","generated":{"line":154,"column":12},"source":"index.js","original":{"line":151,"column":12}},{"generated":{"line":154,"column":23},"source":"index.js","original":{"line":151,"column":2}},{"name":"node","generated":{"line":154,"column":24},"source":"index.js","original":{"line":151,"column":24}},{"generated":{"line":154,"column":28},"source":"index.js","original":{"line":151,"column":2}},{"generated":{"line":155,"column":0},"source":"index.js","original":{"line":154,"column":1}},{"generated":{"line":157,"column":0},"source":"index.js","original":{"line":156,"column":0}},{"name":"setAttribute","generated":{"line":157,"column":9},"source":"index.js","original":{"line":156,"column":9}},{"generated":{"line":157,"column":21},"source":"index.js","original":{"line":156,"column":0}},{"name":"node","generated":{"line":157,"column":22},"source":"index.js","original":{"line":156,"column":22}},{"generated":{"line":157,"column":26},"source":"index.js","original":{"line":156,"column":0}},{"name":"attrs","generated":{"line":157,"column":28},"source":"index.js","original":{"line":156,"column":28}},{"generated":{"line":157,"column":33},"source":"index.js","original":{"line":156,"column":0}},{"generated":{"line":157,"column":35},"source":"index.js","original":{"line":156,"column":35}},{"generated":{"line":158,"column":0},"source":"index.js","original":{"line":157,"column":2}},{"generated":{"line":158,"column":6},"source":"index.js","original":{"line":157,"column":5}},{"name":"attrs","generated":{"line":158,"column":7},"source":"index.js","original":{"line":157,"column":6}},{"generated":{"line":158,"column":12},"source":"index.js","original":{"line":157,"column":2}},{"generated":{"line":158,"column":14},"source":"index.js","original":{"line":157,"column":13}},{"generated":{"line":160,"column":0},"source":"index.js","original":{"line":159,"column":2}},{"generated":{"line":160,"column":7},"source":"index.js","original":{"line":159,"column":6}},{"name":"key","generated":{"line":160,"column":11},"source":"index.js","original":{"line":159,"column":10}},{"generated":{"line":160,"column":14},"source":"index.js","original":{"line":159,"column":2}},{"name":"attrs","generated":{"line":160,"column":18},"source":"index.js","original":{"line":159,"column":17}},{"generated":{"line":160,"column":23},"source":"index.js","original":{"line":159,"column":2}},{"generated":{"line":160,"column":25},"source":"index.js","original":{"line":159,"column":24}},{"generated":{"line":161,"column":0},"source":"index.js","original":{"line":160,"column":4}},{"name":"key","generated":{"line":161,"column":8},"source":"index.js","original":{"line":160,"column":7}},{"generated":{"line":161,"column":11},"source":"index.js","original":{"line":160,"column":10}},{"name":"startsWith","generated":{"line":161,"column":12},"source":"index.js","original":{"line":160,"column":11}},{"generated":{"line":161,"column":22},"source":"index.js","original":{"line":160,"column":7}},{"generated":{"line":161,"column":23},"source":"index.js","original":{"line":160,"column":22}},{"generated":{"line":161,"column":27},"source":"index.js","original":{"line":160,"column":7}},{"generated":{"line":161,"column":28},"source":"index.js","original":{"line":160,"column":4}},{"generated":{"line":161,"column":30},"source":"index.js","original":{"line":160,"column":29}},{"name":"node","generated":{"line":162,"column":0},"source":"index.js","original":{"line":161,"column":6}},{"name":"node","generated":{"line":162,"column":6},"source":"index.js","original":{"line":161,"column":6}},{"generated":{"line":162,"column":10},"source":"index.js","original":{"line":161,"column":10}},{"name":"key","generated":{"line":162,"column":11},"source":"index.js","original":{"line":161,"column":11}},{"generated":{"line":162,"column":14},"source":"index.js","original":{"line":161,"column":14}},{"name":"toLocaleLowerCase","generated":{"line":162,"column":15},"source":"index.js","original":{"line":161,"column":15}},{"generated":{"line":162,"column":32},"source":"index.js","original":{"line":161,"column":11}},{"generated":{"line":162,"column":34},"source":"index.js","original":{"line":161,"column":10}},{"generated":{"line":162,"column":35},"source":"index.js","original":{"line":161,"column":6}},{"name":"attrs","generated":{"line":162,"column":38},"source":"index.js","original":{"line":161,"column":38}},{"generated":{"line":162,"column":43},"source":"index.js","original":{"line":161,"column":43}},{"name":"key","generated":{"line":162,"column":44},"source":"index.js","original":{"line":161,"column":44}},{"generated":{"line":162,"column":47},"source":"index.js","original":{"line":161,"column":43}},{"generated":{"line":162,"column":48},"source":"index.js","original":{"line":161,"column":6}},{"generated":{"line":163,"column":0},"source":"index.js","original":{"line":162,"column":5}},{"generated":{"line":163,"column":5},"source":"index.js","original":{"line":160,"column":4}},{"generated":{"line":163,"column":11},"source":"index.js","original":{"line":162,"column":11}},{"name":"key","generated":{"line":163,"column":15},"source":"index.js","original":{"line":162,"column":14}},{"generated":{"line":163,"column":18},"source":"index.js","original":{"line":162,"column":17}},{"generated":{"line":163,"column":23},"source":"index.js","original":{"line":162,"column":22}},{"generated":{"line":163,"column":30},"source":"index.js","original":{"line":162,"column":11}},{"generated":{"line":163,"column":32},"source":"index.js","original":{"line":162,"column":31}},{"name":"Object","generated":{"line":164,"column":0},"source":"index.js","original":{"line":163,"column":6}},{"name":"Object","generated":{"line":164,"column":6},"source":"index.js","original":{"line":163,"column":6}},{"generated":{"line":164,"column":12},"source":"index.js","original":{"line":163,"column":12}},{"name":"assign","generated":{"line":164,"column":13},"source":"index.js","original":{"line":163,"column":13}},{"generated":{"line":164,"column":19},"source":"index.js","original":{"line":163,"column":6}},{"name":"node","generated":{"line":164,"column":20},"source":"index.js","original":{"line":163,"column":20}},{"generated":{"line":164,"column":24},"source":"index.js","original":{"line":163,"column":24}},{"name":"style","generated":{"line":164,"column":25},"source":"index.js","original":{"line":163,"column":25}},{"generated":{"line":164,"column":30},"source":"index.js","original":{"line":163,"column":6}},{"name":"attrs","generated":{"line":164,"column":32},"source":"index.js","original":{"line":163,"column":32}},{"generated":{"line":164,"column":37},"source":"index.js","original":{"line":163,"column":37}},{"name":"key","generated":{"line":164,"column":38},"source":"index.js","original":{"line":163,"column":38}},{"generated":{"line":164,"column":41},"source":"index.js","original":{"line":163,"column":37}},{"generated":{"line":164,"column":42},"source":"index.js","original":{"line":163,"column":6}},{"generated":{"line":165,"column":0},"source":"index.js","original":{"line":164,"column":5}},{"generated":{"line":165,"column":5},"source":"index.js","original":{"line":162,"column":11}},{"generated":{"line":165,"column":11},"source":"index.js","original":{"line":164,"column":11}},{"name":"node","generated":{"line":166,"column":0},"source":"index.js","original":{"line":165,"column":6}},{"name":"node","generated":{"line":166,"column":6},"source":"index.js","original":{"line":165,"column":6}},{"generated":{"line":166,"column":10},"source":"index.js","original":{"line":165,"column":10}},{"name":"key","generated":{"line":166,"column":11},"source":"index.js","original":{"line":165,"column":11}},{"generated":{"line":166,"column":14},"source":"index.js","original":{"line":165,"column":10}},{"generated":{"line":166,"column":15},"source":"index.js","original":{"line":165,"column":6}},{"name":"attrs","generated":{"line":166,"column":18},"source":"index.js","original":{"line":165,"column":18}},{"generated":{"line":166,"column":23},"source":"index.js","original":{"line":165,"column":23}},{"name":"key","generated":{"line":166,"column":24},"source":"index.js","original":{"line":165,"column":24}},{"generated":{"line":166,"column":27},"source":"index.js","original":{"line":165,"column":23}},{"generated":{"line":166,"column":28},"source":"index.js","original":{"line":165,"column":6}},{"generated":{"line":167,"column":0},"source":"index.js","original":{"line":166,"column":5}},{"generated":{"line":168,"column":0},"source":"index.js","original":{"line":167,"column":3}},{"generated":{"line":169,"column":0},"source":"index.js","original":{"line":168,"column":1}},{"generated":{"line":171,"column":0},"source":"index.js","original":{"line":170,"column":0}},{"name":"JreactDom","generated":{"line":171,"column":4},"source":"index.js","original":{"line":170,"column":6}},{"generated":{"line":171,"column":13},"source":"index.js","original":{"line":170,"column":15}},{"generated":{"line":171,"column":16},"source":"index.js","original":{"line":170,"column":18}},{"name":"render","generated":{"line":172,"column":0},"source":"index.js","original":{"line":171,"column":2}},{"name":"render","generated":{"line":172,"column":2},"source":"index.js","original":{"line":171,"column":2}},{"generated":{"line":172,"column":8},"source":"index.js","original":{"line":170,"column":18}},{"name":"vnode","generated":{"line":172,"column":26},"source":"index.js","original":{"line":171,"column":9}},{"generated":{"line":172,"column":31},"source":"index.js","original":{"line":170,"column":18}},{"name":"container","generated":{"line":172,"column":33},"source":"index.js","original":{"line":171,"column":16}},{"generated":{"line":172,"column":42},"source":"index.js","original":{"line":170,"column":18}},{"generated":{"line":172,"column":44},"source":"index.js","original":{"line":171,"column":27}},{"name":"container","generated":{"line":173,"column":0},"source":"index.js","original":{"line":172,"column":4}},{"name":"container","generated":{"line":173,"column":4},"source":"index.js","original":{"line":172,"column":4}},{"generated":{"line":173,"column":13},"source":"index.js","original":{"line":172,"column":13}},{"name":"innerHTML","generated":{"line":173,"column":14},"source":"index.js","original":{"line":172,"column":14}},{"generated":{"line":173,"column":23},"source":"index.js","original":{"line":172,"column":4}},{"generated":{"line":173,"column":26},"source":"index.js","original":{"line":172,"column":26}},{"generated":{"line":173,"column":28},"source":"index.js","original":{"line":172,"column":4}},{"name":"render","generated":{"line":175,"column":0},"source":"index.js","original":{"line":173,"column":4}},{"name":"render","generated":{"line":175,"column":4},"source":"index.js","original":{"line":173,"column":4}},{"generated":{"line":175,"column":11},"source":"index.js","original":{"line":173,"column":10}},{"name":"vnode","generated":{"line":175,"column":12},"source":"index.js","original":{"line":173,"column":11}},{"generated":{"line":175,"column":17},"source":"index.js","original":{"line":173,"column":10}},{"name":"container","generated":{"line":175,"column":19},"source":"index.js","original":{"line":173,"column":18}},{"generated":{"line":175,"column":28},"source":"index.js","original":{"line":173,"column":10}},{"generated":{"line":175,"column":29},"source":"index.js","original":{"line":173,"column":4}},{"generated":{"line":176,"column":0},"source":"index.js","original":{"line":174,"column":3}},{"generated":{"line":177,"column":0},"source":"index.js","original":{"line":170,"column":18}},{"generated":{"line":177,"column":1},"source":"index.js","original":{"line":170,"column":0}},{"generated":{"line":178,"column":0},"source":"index.js","original":{"line":179,"column":0}},{"name":"timer","generated":{"line":178,"column":4},"source":"index.js","original":{"line":179,"column":4}},{"generated":{"line":178,"column":9},"source":"index.js","original":{"line":179,"column":9}},{"generated":{"line":178,"column":12},"source":"index.js","original":{"line":179,"column":12}},{"generated":{"line":178,"column":16},"source":"index.js","original":{"line":179,"column":0}},{"name":"start","generated":{"line":179,"column":0},"source":"index.js","original":{"line":181,"column":0}},{"generated":{"line":179,"column":5},"source":"index.js","original":{"line":181,"column":5}},{"generated":{"line":181,"column":0},"source":"index.js","original":{"line":184,"column":0}},{"name":"start","generated":{"line":181,"column":9},"source":"index.js","original":{"line":184,"column":9}},{"generated":{"line":181,"column":14},"source":"index.js","original":{"line":184,"column":0}},{"generated":{"line":181,"column":17},"source":"index.js","original":{"line":184,"column":17}},{"name":"timer","generated":{"line":182,"column":0},"source":"index.js","original":{"line":185,"column":2}},{"name":"timer","generated":{"line":182,"column":2},"source":"index.js","original":{"line":185,"column":2}},{"generated":{"line":182,"column":7},"source":"index.js","original":{"line":185,"column":7}},{"name":"setInterval","generated":{"line":182,"column":10},"source":"index.js","original":{"line":185,"column":10}},{"generated":{"line":182,"column":21},"source":"index.js","original":{"line":185,"column":21}},{"generated":{"line":182,"column":22},"source":"index.js","original":{"line":185,"column":22}},{"generated":{"line":182,"column":34},"source":"index.js","original":{"line":185,"column":28}},{"name":"JreactDom","generated":{"line":183,"column":0},"source":"index.js","original":{"line":186,"column":4}},{"name":"JreactDom","generated":{"line":183,"column":4},"source":"index.js","original":{"line":186,"column":4}},{"generated":{"line":183,"column":13},"source":"index.js","original":{"line":186,"column":13}},{"name":"render","generated":{"line":183,"column":14},"source":"index.js","original":{"line":186,"column":14}},{"generated":{"line":183,"column":20},"source":"index.js","original":{"line":186,"column":4}},{"generated":{"line":183,"column":21},"source":"index.js","original":{"line":187,"column":6}},{"generated":{"line":184,"column":0},"source":"index.js","original":{"line":187,"column":11}},{"generated":{"line":184,"column":6},"source":"index.js","original":{"line":187,"column":11}},{"generated":{"line":184,"column":8},"source":"index.js","original":{"line":187,"column":13}},{"generated":{"line":184,"column":10},"source":"index.js","original":{"line":187,"column":14}},{"generated":{"line":185,"column":0},"source":"index.js","original":{"line":187,"column":6}},{"generated":{"line":185,"column":7},"source":"index.js","original":{"line":188,"column":8}},{"generated":{"line":186,"column":0},"source":"index.js","original":{"line":188,"column":13}},{"generated":{"line":186,"column":6},"source":"index.js","original":{"line":188,"column":13}},{"generated":{"line":186,"column":15},"source":"index.js","original":{"line":188,"column":22}},{"generated":{"line":186,"column":17},"source":"index.js","original":{"line":188,"column":23}},{"generated":{"line":187,"column":0},"source":"index.js","original":{"line":188,"column":8}},{"generated":{"line":187,"column":7},"source":"index.js","original":{"line":188,"column":32}},{"name":"Date","generated":{"line":187,"column":11},"source":"index.js","original":{"line":188,"column":36}},{"generated":{"line":187,"column":15},"source":"index.js","original":{"line":188,"column":32}},{"name":"toString","generated":{"line":187,"column":18},"source":"index.js","original":{"line":188,"column":43}},{"generated":{"line":187,"column":26},"source":"index.js","original":{"line":188,"column":32}},{"generated":{"line":187,"column":28},"source":"index.js","original":{"line":188,"column":8}},{"generated":{"line":187,"column":29},"source":"index.js","original":{"line":187,"column":6}},{"generated":{"line":187,"column":31},"source":"index.js","original":{"line":189,"column":8}},{"generated":{"line":187,"column":65},"source":"index.js","original":{"line":190,"column":10}},{"generated":{"line":188,"column":0},"source":"index.js","original":{"line":190,"column":18}},{"generated":{"line":188,"column":6},"source":"index.js","original":{"line":190,"column":18}},{"generated":{"line":188,"column":13},"source":"index.js","original":{"line":190,"column":25}},{"name":"start","generated":{"line":188,"column":15},"source":"index.js","original":{"line":190,"column":28}},{"generated":{"line":189,"column":0},"source":"index.js","original":{"line":190,"column":10}},{"generated":{"line":189,"column":15},"source":"index.js","original":{"line":189,"column":8}},{"generated":{"line":189,"column":17},"source":"index.js","original":{"line":191,"column":10}},{"generated":{"line":190,"column":0},"source":"index.js","original":{"line":191,"column":18}},{"generated":{"line":190,"column":6},"source":"index.js","original":{"line":191,"column":18}},{"generated":{"line":190,"column":13},"source":"index.js","original":{"line":191,"column":25}},{"name":"pause","generated":{"line":190,"column":15},"source":"index.js","original":{"line":191,"column":28}},{"generated":{"line":191,"column":0},"source":"index.js","original":{"line":191,"column":10}},{"generated":{"line":191,"column":15},"source":"index.js","original":{"line":189,"column":8}},{"generated":{"line":191,"column":16},"source":"index.js","original":{"line":187,"column":6}},{"generated":{"line":191,"column":17},"source":"index.js","original":{"line":186,"column":4}},{"name":"document","generated":{"line":191,"column":19},"source":"index.js","original":{"line":195,"column":6}},{"generated":{"line":191,"column":27},"source":"index.js","original":{"line":195,"column":14}},{"name":"querySelector","generated":{"line":191,"column":28},"source":"index.js","original":{"line":195,"column":15}},{"generated":{"line":191,"column":41},"source":"index.js","original":{"line":195,"column":6}},{"generated":{"line":191,"column":42},"source":"index.js","original":{"line":195,"column":29}},{"generated":{"line":191,"column":48},"source":"index.js","original":{"line":195,"column":6}},{"generated":{"line":191,"column":49},"source":"index.js","original":{"line":186,"column":4}},{"generated":{"line":192,"column":0},"source":"index.js","original":{"line":196,"column":3}},{"generated":{"line":192,"column":3},"source":"index.js","original":{"line":185,"column":21}},{"generated":{"line":192,"column":5},"source":"index.js","original":{"line":196,"column":5}},{"generated":{"line":192,"column":9},"source":"index.js","original":{"line":185,"column":21}},{"generated":{"line":192,"column":10},"source":"index.js","original":{"line":185,"column":2}},{"generated":{"line":193,"column":0},"source":"index.js","original":{"line":197,"column":1}},{"generated":{"line":195,"column":0},"source":"index.js","original":{"line":199,"column":0}},{"name":"pause","generated":{"line":195,"column":9},"source":"index.js","original":{"line":199,"column":9}},{"generated":{"line":195,"column":14},"source":"index.js","original":{"line":199,"column":0}},{"generated":{"line":195,"column":17},"source":"index.js","original":{"line":199,"column":17}},{"name":"clearInterval","generated":{"line":196,"column":0},"source":"index.js","original":{"line":200,"column":2}},{"name":"clearInterval","generated":{"line":196,"column":2},"source":"index.js","original":{"line":200,"column":2}},{"generated":{"line":196,"column":15},"source":"index.js","original":{"line":200,"column":15}},{"name":"timer","generated":{"line":196,"column":16},"source":"index.js","original":{"line":200,"column":16}},{"generated":{"line":196,"column":21},"source":"index.js","original":{"line":200,"column":15}},{"generated":{"line":196,"column":22},"source":"index.js","original":{"line":200,"column":2}},{"generated":{"line":197,"column":0},"source":"index.js","original":{"line":201,"column":1}}],"sources":{"index.js":"/** step 1 */\n/**\n * ## JSX与虚拟DOM\n * 引入\n * 演练地址： https://babeljs.io/repl\n * @babel/plugin-transform-react-jsx 文档： https://babeljs.io/docs/en/babel-plugin-transform-react-jsx\n * \n * 1. 初始化环境 \n *   yarn init -y\n *   yarn add parcel-bundler\n *   touch index.html index.js\n *   touch .bablerc\n * 2. 设置.babelrc\n *   {\n *     \"presets\": [\"env\"],\n *     \"plugins\": [\n *        [\"transform-react-jsx\", {\n *            \"pragma\": \"Jreact.createElement\"\n *        }]\n *      ]\n *   }\n *  3. 执行\n *    npx parcel index.html\n */\n\n /*\nfunction createElement(tag, attrs, ...children) {\n  return {\n    tag, \n    attrs, \n    children\n  }\n}\n\nconst Jreact = {\n  createElement\n}\n\nlet element = <div className=\"wrap\">Hello <span className=\"name\">Jirengu</span></div>\n\nconsole.log(element)\n*/\n\n\n\n/** step 2 */\n/**\n * 渲染虚拟DOM\n */\n\n/*\nfunction createElement(tag, attrs, ...children) {\n  return {\n    tag, \n    attrs, \n    children\n  }\n}\n\nconst Jreact = {\n  createElement\n}\n\n\nfunction render(vnode, container) {\n  \n  let node\n  if(typeof vnode === 'string') {\n    node = document.createTextNode(vnode)\n  }\n\n  if(typeof vnode === 'object') {\n    node = document.createElement(vnode.tag)\n    setAttribute(node, vnode.attrs)\n    vnode.children.forEach(childVnode => render(childVnode, node))\n  }\n\n  container.appendChild(node)\n\n  \n}\n\nfunction setAttribute(node, attrs) {\n  if(!attrs) return\n\n  for(let key in attrs) {\n    if(key.startsWith('on')) {\n      node[key.toLocaleLowerCase()] = attrs[key]\n    } else if(key === 'style') {\n      Object.assign(node.style, attrs[key])\n    } else {\n      node[key] = attrs[key]\n    }\n  }\n}\n\nconst JreactDom = {\n  render\n}\n\n\nlet name = 'jirengu'\nlet showName = () => console.log(`name is: ${name}`)\nlet styleObject = {\n  color: \"red\",\n  fontSize: \"60px\"\n}\n\nlet jsx = (\n  <div id=\"wrap\" data-id=\"1\" onClick={ showName } style={ styleObject }>\n    Hello \n    <span className=\"name\">hello { name } <i></i></span>\n  </div>\n)\n\nJreactDom.render(jsx, document.querySelector('#app'))\n*/\n\n\n\n/**step 3 */\n/**\n * 做一个时钟\n */\n\nfunction createElement(tag, attrs, ...children) {\n  return {\n    tag, \n    attrs, \n    children\n  }\n}\n\nconst Jreact = {\n  createElement\n}\n\n\nfunction render(vnode, container) {\n  let node\n  if(typeof vnode === 'string') {\n    node = document.createTextNode(vnode)\n  }\n\n  if(typeof vnode === 'object') {\n    node = document.createElement(vnode.tag)\n    setAttribute(node, vnode.attrs)\n    vnode.children.forEach(childVnode => render(childVnode, node))\n  }\n\n  container.appendChild(node)\n\n  \n}\n\nfunction setAttribute(node, attrs) {\n  if(!attrs) return\n\n  for(let key in attrs) {\n    if(key.startsWith('on')) {\n      node[key.toLocaleLowerCase()] = attrs[key]\n    } else if(key === 'style') {\n      Object.assign(node.style, attrs[key])\n    } else {\n      node[key] = attrs[key]\n    }\n  }\n}\n\nconst JreactDom = {\n  render(vnode, container) {\n    container.innerHTML = ''\n    render(vnode, container)\n  }\n}\n\n\n\nlet timer = null\n\nstart()\n\n\nfunction start() {\n  timer = setInterval(() => {\n    JreactDom.render((\n      <div id=\"clock\">\n        <div className=\"time\">{ new Date().toString() }</div>\n        <div>\n          <button onClick={ start }>start</button>\n          <button onClick={ pause }>pause</button>\n        </div>\n      </div>\n    )\n    , document.querySelector('#app'))\n  }, 1000)\n}\n\nfunction pause() {\n  clearInterval(timer)\n}\n\n\n\n"},"lineCount":null}},"hash":"661118a0b6a2cc86788634d8976520f2","cacheData":{"env":{}}}